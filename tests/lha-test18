# -*- shell-script -*-
message restore directory permission

echo -------------------------------------------------------------------

mkdir -p test-tmp1/test1/test2 &&
cp -r test-1 test-tmp1/test1/test2 &&
chmod 444 test-tmp1 &&
chmod 644 test-tmp1/test1 &&
chmod 666 test-tmp1/test1/test2 &&
chmod 755 test-tmp1/test1/test2/test-1
							check $? $LINENO

$lha c test-tmp1.lzh test-tmp1
							check $? $LINENO

$lha xw=test-tmp2 test-tmp1.lzh
							check $? $LINENO

diff -r test-tmp2/test-tmp1 test-tmp1
							check $? $LINENO

ls -ld test-tmp2/test-tmp1                    | grep '^dr--r--r--' &&
ls -ld test-tmp2/test-tmp1/test1              | grep '^drw-r--r--' &&
ls -ld test-tmp2/test-tmp1/test1/test2        | grep '^drw-rw-rw-' &&
ls -ld test-tmp2/test-tmp1/test1/test2/test-1 | grep '^drwxr-xr-x'
							check $? $LINENO

2002-06-01  Koji Arai  <jca02266@nifty.ne.jp>

	* README.autoconf: `-i' switch of automake is deprecated.

2002-05-29  Koji Arai  <jca02266@nifty.ne.jp>

	* configure.in, configure.ac, config.h.in: checks having uid_t/gid_t.

	* src/lha.h: define uid_t/gid_t as `int' if no have it.

	* src/lhext.c (adjust_info): mismatched braces.

	* header.doc.euc: around user/group name extention.

	* configure.in, configure.ac, config.h.in: checks having
	getpwuid/getgrgid and so on.

	* src/header.c (get_header): use the extend header, user/group name.
	(init_header): ditto.

	* src/lha.h: added <pwd.h>, <grp.h> header includings.

	* src/lhext.c (adjust_info): change owner/group according to
	user/group name when extracting.

	* src/lhlist.c (list_one): print user/group name when the header
	has them.
	(list_one): correct column position on OS68K.

	* tests/lha-test.in: added timestamp checks.

	* src/lha_macro.h: comment about OS code.

2002-05-28  Koji Arai  <jca02266@nifty.ne.jp>

	* src/lharc.c (xstrdup): no need to call fatal_error().

	* src/lhdir.h, src/lha_macro.h, src/lha.h: added modeline for vi(m).

	* configure.ac, config.h.in: use new autoconf macro, AC_CHECK_MEMBERS().

	* IFNAMES, configure.in, src/header.c, src/lharc.c: replaced with
	new macro name.

2002-05-27  Koji Arai  <jca02266@nifty.ne.jp>

	* tests/lha-test.in: use `seq` function instead of GNU sh-utils's seq.

	* src/header.c (filename_conv): reverse condition and conversion
	for filename case.

	* README.autoconf: added description abount `get_filename_from_stdin' feature.

	* tests/lha-test.in: remove test around the `get_filename_from_stdin'.

	* src/lharc.c (main): never set `get_filename_from_stdin` to true.
	`echo foo | lha x foo.lzh' does not work like original LHa.

	* tests/lha-test.in: replace with #!/bin/bash.

	* README.autoconf: added E-Mail address.

	* configure.ac: updated version and added mail address for bug reports.

	* configure.in: updated version.

	* released.

	* README.autoconf: added `make check' on sample description.

	* configure.in, configure.ac: update version.

2002-05-26  Koji Arai  <jca02266@nifty.ne.jp>

	* tests/lha-test.in: added some tests.

	* tests/Makefile.am: refined.

	* src/lhext.c (cmd_extract): discard useless fseek() calling (for MinGW).

	* tests/lha-test.in: added some tests.

	* tests/lha-test.in: specified `q' option on print archive test.

	* src/lhadd.c (build_backup_file): On MinGW, cannot rename when
	a new file already exists.

	* src/lhext.c (extract_one): On MinGW, set binary on stdout when
	print archive (`p' switch).

	* tests/lha-test.in: added some tests.

	* src/lhadd.c (report_archive_name_if_different): warning messages
	should be printed to stderr rather than stdout.
	(cmd_delete): ditto.

	* tests/Makefile.am: fix EXTRA_DIST.

	* configure.in, configure.ac: update version.

	* tests/lha-test.in: added tests.

	* tests/Makefile.am: ditto.

	* configure.in, configure.ac, Makefile.am: ditto.

2002-05-25  Koji Arai  <jca02266@nifty.ne.jp>

	* IFNAMES: updated.

	* released.

	* README.autoconf: added description for developpers.

	* configure.in, configure.ac, config.h.in: refined.

	* src/util.c (memmove): use HAVE_MEMMOVE.
	(mkdir): use HAVE_WORKING_FORK.

	* src/huf.c: use HAVE_SYS_PARAM_H instead of sony_news.

	* IFNAMES (sony_news): updated.

	* configure.ac, configure.in (AC_INIT): added autoconfiscated date.
	see `lha --version'.

2002-05-22  Koji Arai  <jca02266@nifty.ne.jp>

	* src/append.c, src/crcio.c, src/dhuf.c, src/extract.c, src/header.c, src/huf.c, src/larc.c, src/lhadd.c, src/lharc.c, src/lhdir.c, src/lhext.c, src/lhlist.c, src/maketbl.c, src/maketree.c, src/patmatch.c, src/shuf.c, src/slide.c, src/util.c:
	added modeline for vi(m).

	* src/lharc.c: backslash was missing.

2002-05-20  Koji Arai  <jca02266@nifty.ne.jp>

	* src/lharc.c (open_old_archive):  On MinGW, set binary stdin.

	* src/lhadd.c (temporary_to_new_archive_file): On MinGW, set binary stdout.

	* src/lha_macro.h: no define TMP_FILENAME_TEMPLATE in source.

	* configure.ac, configure.in, README.autoconf: be able to specify
	--with-tmp-file=no which meaning TMP_FILENAME_TEMPLATE is undefined.

	* src/lha.h: correct usage of mkstemp().
	On MinGW, opening file cannot be removed.

	* src/lhadd.c (build_temporary_file): ditto.

	* src/lharc.c (fatal_error): ditto.

2002-05-19  Koji Arai  <jca02266@nifty.ne.jp>

	* configure.in, configure.ac: added AM_C_PROTOTYPES, AC_C_CONST.
	no use AM_C_PROTOTYPES for the present.

	* config.h.in: ditto.

	* src/lharc.c (print_tiny_usage_and_exit): change credit.

	* src/lha_macro.h: put PLATFORM in a macro LHA_VERSION.

	* src/lharc.c (print_version): ditto.

	* configure.ac: use AC_CANONICAL_TARGET instead of AC_CANONICAL_HOST.

2002-05-19  Koji Arai  <jca02266@nifty.ne.jp>

	* released.

	* src/lharc.c (print_tiny_usage_and_exit): added credit.
	(print_version): print PLATFORM.

	* configure.ac, configure.in, config.h.in: define PLATFORM.

	* src/lharc.c (xstrdup): fix typo.

	* configure.ac: added for autoconf-2.53.

	* config.h.in: regenerate by autoconf-2.53.

	* src/lharc.c (find_files): MinGW has st_ino but always 0.

	* src/lharc.c (main): provisionally fix. set
	`get_filename_from_stdin' to false.

	* src/util.c (rename): use builtin rename on mingw32 (since have
	no link(2)).

	* src/lharc.c (main): use xrealloc().

	* src/lha_macro.h: specify "b" modifier always (for mingw32).

	* src/lharc.c: use xstrdup() instead of strdup().

	* src/lha_macro.h: ditto.

	* src/lha_macro.h: getuid(), chown(), kill() are provisionally
	defined as 0.

	* src/header.c: set `default_system_kanji_code' to Shift_JIS on mingw32.

	* src/lhadd.c (build_temporary_file): no use SIGHUP for mingw32.
	(build_backup_file): ditto.

	* src/lharc.c (interrupt): ditto.

	* src/lhext.c (extract_one): ditto.

	* src/lhext.c (make_parent_path): mkdir() has no 2nd argument on
	mingw32.

2002-05-18  Koji Arai  <jca02266@nifty.ne.jp>

	* lha_macro.h: define bcmp(), bzero(), bcopy() even if
	STDC_HEADERS is defined.

	* huf.c (alloc_buf): call fatal_error() when memory allocation failed
	instead of returning NULL.

	* lharc.c (main): use xmalloc().

	* util.c (copyfile): use xmalloc().

	* slide.c (encode_alloc): use xmalloc().

	* header.c (default_system_kanji_code): On HP-UX, use Shift_JIS as
	default kanji code.

2001-02-03  Koji Arai  <jca02266@nifty.ne.jp>

	* README.autoconf, src/header.c: treat archive and system kanji
	code, correctly.

2001-01-31  Koji Arai  <jca02266@nifty.ne.jp>

	* configure.in: mistakes for default archive method.

	* src/header.c: directory separator 0xff must be transpose slash
	at first.

2001-01-29  Koji Arai  <jca02266@nifty.ne.jp>

	* src/lharc.c: replace MKSTEMP with HAVE_MKSTEMP.
	substitute DEFAULT_LZHUFF_METHOD for the `compress_method' variable (it's default value).

	* src/lha_macro.h: use the VERSION macro (defined by configure) for
	the LHA_VERSION definition.

	* src/header.c: added condition whether the macro MULTIBYTE_CHAR
	is defined or not.

	* src/Makefile.am: added $(SUPPORT_LZHUFF_METHOD) in AM_CPPFLAGS.

	* configure.in: change version number from 1.14f to 1.14i.
	check function mkstemp().
	replace --enable-lh6 option to --with-default-method=[567].

	* config.h.in: added definitions of HAVE_MKSTEMP and
	DEFAULT_LZHUFF_METHOD.

	* IFNAMES: added a description about MKSTEMP.

	* Makefile.am: added extra files.

	* change-114f.txt, src/extract.c, src/header.c, src/huf.c, src/lha.h, src/lha_macro.h, src/lhadd.c, src/lharc.c, src/lhext.c, src/lhlist.c, src/maketbl.c, src/maketree.c, src/shuf.c, src/slide.c, src/util.c, src/dhuf.c, src/crcio.c:
	merged changing from lha-1.14f to lha-1.14i.

	* change-114i.txt, src/header.c, src/huf.c, src/lha.h, src/lharc.c:
	import lha-114i

	* src/huf.c, src/lharc.c, src/shuf.c, src/slide.c: import lha-114h

	* Makefile, README.euc, change-114g.txt, change-114h.txt:
	import lha-114h

	* src/crcio.c, src/dhuf.c, src/extract.c, src/header.c, src/huf.c, src/lha.h, src/lha_macro.h, src/lhadd.c, src/lharc.c, src/lhext.c, src/util.c:
	import lha-114g

	* MACHINES2.euc, Makefile, README.euc, change-114g.txt, config.eng, config.jpn.euc, header.doc.euc, src/lhlist.c, src/maketbl.c, src/maketree.c, src/makezero.c, src/shuf.c, src/slide.c:
	import lha-114g

	* src/header.c, src/lha_macro.h: implemented kanji code conversion
	on filename.

	* src/header.c: fix bug in euc2sjis().

1999-10-05  Koji Arai  <jca02266@nifty.ne.jp>

	* src/header.c: rename the macro HANKAKU_KATAKANA_P to the X0201_KANA_P

1999-09-30  Koji Arai  <jca02266@nifty.ne.jp>

	* IFNAMES, configure.in, Makefile.in.org, README.autoconf, config.h.in, man/Makefile.am, src/Makefile.am, src/Makefile.in.org, Makefile.am, src/header.c, src/huf.c, src/larc.c, src/lha.h, src/lha_macro.h, src/lhadd.c, src/lharc.c, src/lhdir.c, src/lhdir.h, src/lhext.c, src/lhlist.c, src/makefile.dj, src/maketbl.c, src/maketree.c, src/patmatch.c, src/shuf.c, src/slide.c, src/util.c, Makefile, man/Makefile, src/Makefile, src/append.c, src/crcio.c, src/dhuf.c, src/extract.c:
	use the autoconf/automake

1999-08-28  Koji Arai  <jca02266@nifty.ne.jp>

	* Makefile: import the lha-114f

	* change-114f.txt, config.jpn.euc, header.doc.euc: import the lha-114f

	* CHANGES.euc, MACHINES.euc, PROBLEMS.euc, README.euc, change-114e.txt, config.eng:
	import the lha-114f

	* MACHINES2.euc, man/Makefile, man/lha.man, man/lha.n:
	import the lha-114f

	* src/append.c, src/crcio.c: import the lha-114f

	* src/Makefile, src/lha.h, src/lha_macro.h, src/lharc.c, src/lhdir.c, src/lhdir.h, src/lhext.c, src/lhlist.c, src/makefile.dj, src/maketbl.c, src/maketree.c, src/patmatch.c, src/shuf.c, src/slide.c, src/util.c:
	import the lha-114f

	* src/dhuf.c, src/extract.c, src/header.c, src/huf.c, src/larc.c, src/lhadd.c:
	import the lha-114f
